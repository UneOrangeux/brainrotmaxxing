<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>The Brain Rot Corner â€“ 16:9</title>
<style>
  :root{ --bg:#0f1115; --panel:#131620; --border:#2b3040; --text:#e6edf3; }
  body{margin:0;background:var(--bg);color:var(--text);font:14px/1.4 system-ui,Segoe UI,Roboto,Arial,sans-serif}
  /* Floating corner panel (bottom-right) that keeps a 16:9 video */
  .corner{
    position:fixed; right:12px; bottom:12px; z-index:99999;
    display:flex; flex-direction:column; width:420px;
    border:1px solid var(--border); border-radius:12px; overflow:hidden;
    background:black; box-shadow:0 10px 24px rgba(0,0,0,.4);
  }
  .bar{display:flex; align-items:center; gap:8px; background:var(--panel);
       padding:6px 8px; font-weight:600; font-size:12px; cursor:move;}
  .title{flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
  .btn{border:1px solid var(--border); background:#191e2b; color:var(--text);
       border-radius:6px; padding:4px 8px; font-size:12px; cursor:pointer}
  .btn:hover{background:#202637}
  /* 16:9 box using padding-top trick */
  .frame-wrap{position:relative; width:100%;}
  .frame-wrap::before{content:""; display:block; padding-top:56.25%;} /* 16:9 */
  iframe{position:absolute; top:0; left:0; width:100%; height:100%; border:0;}
  .controls{display:flex; align-items:center; gap:8px; padding:6px 8px; background:#0c0f18; border-top:1px solid var(--border)}
  .range{appearance:none; width:160px; height:4px; background:#2b3040; border-radius:999px; outline:none}
  .range::-webkit-slider-thumb{appearance:none; width:12px; height:12px; border-radius:50%; background:#4c84ff; cursor:pointer}
  .range::-moz-range-thumb{width:12px;height:12px;border-radius:50%;background:#4c84ff;border:none;cursor:pointer}
</style>
</head>
<body>
  <div class="corner" id="corner">
    <div class="bar" id="drag">
      <span class="title">ðŸ§  The Brain Rot Corner</span>
      <button class="btn" id="muteBtn">Unmute</button>
      <button class="btn" id="closeBtn">Close</button>
    </div>
    <div class="frame-wrap">
      <iframe id="yt" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
    <div class="controls">
      <label style="font-size:12px; color:#9fb3c8">Size</label>
      <input id="size" class="range" type="range" min="260" max="900" step="2" value="420">
      <span id="px" style="font-size:12px; color:#9fb3c8">420px</span>
    </div>
  </div>

<script>
(function(){
  const corner = document.getElementById('corner');
  const drag = document.getElementById('drag');
  const yt = document.getElementById('yt');
  const muteBtn = document.getElementById('muteBtn');
  const closeBtn = document.getElementById('closeBtn');
  const size = document.getElementById('size');
  const px = document.getElementById('px');

  // Hard-coded 16:9 Subway Surfers video (embeddable)
  const vid = "Q9B_3QUqkO0"; 
  let muted = true;

  function refresh(){
    const base = "https://www.youtube.com/embed/"+vid;
    const params = `?autoplay=1&mute=${muted?1:0}&loop=1&playlist=${vid}&controls=0&modestbranding=1&rel=0`;
    yt.src = base+params;
    muteBtn.textContent = muted ? "Unmute" : "Mute";
  }

  // Dragging the whole window
  let dragging=false, sx=0, sy=0, ox=0, oy=0;
  drag.addEventListener('mousedown', (e)=>{ dragging=true; sx=e.clientX; sy=e.clientY; const r=corner.getBoundingClientRect(); ox=r.left; oy=r.top; e.preventDefault(); });
  window.addEventListener('mousemove', (e)=>{
    if(!dragging) return;
    const dx=e.clientX-sx, dy=e.clientY-sy;
    corner.style.left = (ox+dx)+'px';
    corner.style.top  = (oy+dy)+'px';
    corner.style.right = 'auto';
    corner.style.bottom = 'auto';
  });
  window.addEventListener('mouseup', ()=> dragging=false);

  // Resize (keeps 16:9 automatically via padding box)
  const savedW = parseInt(localStorage.getItem('brainrot16x9_width')||'420',10);
  function setW(w){
    const W = Math.max(260, Math.min(900, w|0));
    corner.style.width = W+'px';
    size.value = String(W);
    px.textContent = W+'px';
    localStorage.setItem('brainrot16x9_width', W);
  }
  setW(savedW);
  size.addEventListener('input', ()=> setW(parseInt(size.value,10)));

  muteBtn.addEventListener("click", ()=>{ muted=!muted; refresh(); });
  closeBtn.addEventListener("click", ()=> corner.remove());

  refresh();
})();
</script>
</body>
</html>
